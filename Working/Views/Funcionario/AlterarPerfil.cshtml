@using System.Collections
@using Dominio.Entidades
@using NHibernate.Linq
@using NHibernate.Util
@using Percistencia.Ado
@model Funcionario

@{
    ViewBag.Title = "Alterar";
}

<div class="form-working col-md-9">
    <ol class="breadcrumb">
        <li><a href="~/Home/Index">Home</a></li>
        <li><a href="~/Funcionario/Index">Equipe</a></li>
        <li class="active">Alterar</li>
    </ol>
    <div class="titulo1">
        <h1>Alterar</h1>
    </div>
    <form role="form" method="post" class="form-horizontal" style="padding-top: 10px;" id="FormAlterarPerfil">
        <div class="form-group">
            <label for="Nome" class="col-sm-2 control-label">Nome:</label>
            <div class="col-sm-10">
                <input class="form-control" type="text" name="Nome" value="@Model.Nome" />
            </div>
        </div>
        <div class="form-group">
            <label for="Telefone" class="col-sm-2 control-label">Telefone:</label>
            <div class="col-sm-10">
                <input class="form-control telefone" type="text" name="Telefone" value="@Model.Telefone" />
            </div>
        </div>
        <div class="form-group">
            <label for="Telefone" class="col-sm-2 control-label">Celular:</label>
            <div class="col-sm-10">
                <input class="form-control telefone" type="text" name="Celular" value="@Model.Celular" />
            </div>
        </div>
        <div class="form-group">
            <label for="Telefone" class="col-sm-2 control-label">Endereço:</label>
            <div class="col-sm-10">
                <input class="form-control" type="text" name="Endereco" value="@Model.Endereco" />
            </div>
        </div>
        <div class="form-group">
            <label for="Telefone" class="col-sm-2 control-label">E-mail:</label>
            <div class="col-sm-10">
                <input class="form-control" type="email" name="Email" value="@Model.Email" />
            </div>
        </div>
        <div class="form-group" id="divAlterarSenha">
            <button type="button" class="btn btn-sm form-control" onclick="AlterarSenha();" id="BtnAlterarSenha">Alterar Senha</button>
        </div>
        <div class="form-group" id="DivInputSenha"></div>
        <button class="btn btn-success" type="submit">
            <span class="glyphicon glyphicon-floppy-saved"></span>
            Alterar
        </button>
    </form>
</div>

@section Scripts{
    <script>
        function AlterarSenha() {
            var labelSenha = $('<label></label>');
            var divInput = $('<div/>');
            var input = $('<input/>');

            labelSenha.attr('for', 'SenhaPerfil');
            labelSenha.text('Nova Senha:');
            labelSenha.addClass('col-sm-2 control-label');

            divInput.addClass('col-sm-10');

            input.attr('type', 'password');
            input.attr('name', 'Senha');
            input.attr('required', 'required');
            input.addClass('form-control');

            divInput.append(input);
            $('#divAlterarSenha').next().append(labelSenha);
            $('#divAlterarSenha').next().append(divInput);

            $('#BtnAlterarSenha').removeAttr('onclick');
            $('#BtnAlterarSenha').attr('onclick', 'EsconderSenha();');
            $('#BtnAlterarSenha').text('Esconder Senha');
        }

        function EsconderSenha() {
            $('#DivInputSenha').empty();
            $('#BtnAlterarSenha').removeAttr('onclick');
            $('#BtnAlterarSenha').attr('onclick', 'AlterarSenha();');
            $('#BtnAlterarSenha').text('Alterar Senha');
        }
    </script>
}
